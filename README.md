# openOFM
Code repository for openOFM: an open-source implementation of the Oxford multi-segment foot model. Full mathematical
details are presented in the manuscript:


## Running in Python

### Environment
This code uses an anaconda environment to manage packages and versions. 

1. Make sure anaconda or miniconda is installed on your local computer, see: https://docs.anaconda.com/anaconda/install/
2. Open terminal
3. Change directory to root of python code: ``cd \path\to\repo\Code\python`` 
4. Update conda to latest stable version (tested with conda 4.11.0) : ``conda update conda``
5. Create empty environment: `conda create --name openOFM python=3.9 -y`
6. Activate environment: `conda activate openOFM`
7. Install packages via requirements file: `conda install --y --file requirements.txt`

## Running code
- The following provides some information on how to run openOFM in the terminal or Python IDEs. 
- For information on how to run the openOFM from Vicon, see the manuscript

### openOFM_validate.py
- openOFM computations can be validated against Vicon computed values using the script
``openOFM_validate.py``. 
- This script loads raw (labelled and gap filled) and Vicon processed (OFM pipeline) static and dynamic trial c3d
  files from the ``Data_Validate`` folder 
- Validation is conducted by quantifying the normalized root mean squared error (NRMSE) between the
  inter-segment foot angles using openOFM v1.0 and those generated by the Vicon pipeline.
- Comparison plots are generated

## openOFM_static
- ``openOFM_static.py`` performs computations required for computation of the inter-segment foot angles.
- users can perform these operations with different settings of the openOFM using multiple arguments
  e.g. openOFM_static.py --

## openOFM_dynamic




### Users

1. Change directory to python root ``cd \path\to\repo\Code\python`` 
2. Open ``html\index.html`` in a navigator

### Developers
1. Open terminal
2. Install [Doxygen](https://www.doxygen.nl/manual/install.html) if uninstalled
3. Change directory to python root ``cd \path\to\repo\Code\python`` 
4. Make sure to have the ``Doxyfile`` in there. Modify the Doxyfile according to the desired outputs (e.g. HTML, LaTeX) - [Documentation](https://www.doxygen.nl/manual/starting.html)
5. Run doxygen in the terminal : ``doxygen``
6. Retrieve the Doxygen documentation. Usually in a folder called ``html``
7. Use the generated ``index.html`` as the main HTML page for documentation

## Running in Matlab

### Set path
- go to 'set path' and choose 'add with subfolders' selecting the root openFoot/code/Matlab 
